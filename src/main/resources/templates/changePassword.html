<!DOCTYPE html>
<html lang="en">
<head>
<title>注册</title>
<!-- Meta -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Portal - Bootstrap 5 Admin Dashboard Template For Developers">
<meta name="author" content="Xiaoying Riley at 3rd Wave Media">
<style>
 
  #btnqq{
    background: url(./images/登录/qq.png) no-repeat;width:32px; height: 32px;
  }
  #btnwx{
    background: url(./images/登录/weixin.png) no-repeat;width:32px; height: 32px;
  }
  #btndx{
    background: url(./images/登录/messages.png) no-repeat;width:32px; height: 32px;
  }
  p{
    font-size: 12px;
    display:inline-block
  }
</style>
<link id="theme-style" rel="stylesheet" href="./css/portal.css">
</head>
<body class="app app-signup p-0">
<div class="row g-0 app-auth-wrapper">
  <div class="col-12 col-md-7 col-lg-6 auth-main-col text-center p-5" style="margin: 0 auto;">
    <div class="d-flex flex-column align-content-end">
      <div class="app-auth-body mx-auto">
        <div class="app-auth-branding mb-4"></div>
        <h2 class="auth-heading text-center mb-4">修改密码</h2>
        <div class="auth-form-container text-left mx-auto">
          <form class="auth-form auth-signup-form">
       
            <div class="password mb-3">
              <p>输入你的新密码</p> <p id="pwd"></p>
              <input id="password" name="signup-password" type="password" class="form-control signup-password" placeholder="password" required="required">
            </div>
   
            <!--//extra-->
            <div class="text-center">
              <button type="submit" class="btn app-btn-primary btn-block theme-btn mx-auto">修改</button>
            </div>
          </form>
          <!--//auth-form-->
          
        </div>
        <!--//auth-form-container--></div>
       
      <!--//app-auth-footer--></div>
      
    <!--//flex-column--></div>
    <div class="col-12 col-md-5 col-lg-6 h-100 auth-background-col">
      <div class="auth-background-holder">
      </div>
      <div class="auth-background-mask"></div>
      <div class="auth-background-overlay p-3 p-lg-5">
        <div class="d-flex flex-column align-content-end h-100">
          <div class="h-100"></div>
          <div class="overlay-content p-3 p-lg-4 rounded">
            <h1 class="mb-3 overlay-title">欢迎进入湖北商贸学院平台</h1>
          </div>
        </div>
      </div>
      <!--//auth-background-overlay--></div>
    <!--//auth-background-col--></div>
  <!--//auth-main-col--></div>
  </body>
  
<!--//row-->
<script src="./js/jquery-3.6.0.js"></script>
<script>





        // 校验密码
        function checkPassword() {
            //1.获取密码值
            var password = $("#password").val();
            //2.定义正则
            var reg_password = /^\w{8,20}$/;
            //3.判断，给出提示信息
            var flag = reg_password.test(password);
            if (flag) {
                //密码合法
                $("#pwd").html('')
            } else {
                //密码非法,加一个红色边框
                $("#pwd").html('密码为任意字母数字下划线或. 长度为8-20').css('color', 'red');
            }
            // 4.返回校验是否通过
            return flag;
        }
       
        
        $(function () {
            //当表单提交时，调用所有的校验方法
            $("#register").submit(function () {
                // 如果这个方法没有返回值，或者返回为true，则表单提交，如果返回为false，则表单不提交
                // 1.发送数据到服务器
                if (checkUsername() && checkPassword() && checkTelephone()) {
                    // 校验通过,发送ajax请求，提交表单的数据   username=zhangsan&password=123
                    $.post("registerServlet", $(this).serialize(), function (data) {
                        if (data.flag) {
                            // 注册成功，跳转到成功页面
                            alert("注册成功！");
                        } else {
                            //注册失败,给errorMsg添加提示信息
                            $("#errorMsg").html(data.errorMsg);
                        }
                    });
                }
                //2.不让页面跳转
                return false;
            })
        })
        $("#password").blur(checkPassword);
        $("#email").blur(checkEmail);
        


        
</script>
</body>
</html>